Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),function(a){"use strict";a(document).ready(function(){function b(){var b=a(window).outerHeight();a("#navigation").height(b-56)}function c(){if("undefined"!=typeof markers&&"array"==a.type(markers)){for(var b={airport:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,58),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},hotel:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,58),origin:new google.maps.Point(0,58),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},restaurant:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,58),origin:new google.maps.Point(0,116),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},shopping:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,58),origin:new google.maps.Point(0,174),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},attraction:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,58),origin:new google.maps.Point(0,232),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},special:{url:"images/map/MapPins-small-red1.png",size:new google.maps.Size(35,54),origin:new google.maps.Point(0,290),anchor:new google.maps.Point(17.5,40),scaledSize:new google.maps.Size(35,344)},bachelor:{url:"images/map/MapPins-big-red1.png",size:new google.maps.Size(53,93),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(26.5,68),scaledSize:new google.maps.Size(53,372)},bachelorette:{url:"images/map/MapPins-big-red1.png",size:new google.maps.Size(53,93),origin:new google.maps.Point(0,93),anchor:new google.maps.Point(26.5,68),scaledSize:new google.maps.Size(53,372)},wedding:{url:"images/map/MapPins-big-red1.png",size:new google.maps.Size(53,93),origin:new google.maps.Point(0,186),anchor:new google.maps.Point(26.5,68),scaledSize:new google.maps.Size(53,372)},weddingParty:{url:"images/map/MapPins-big-red1.png",size:new google.maps.Size(53,93),origin:new google.maps.Point(0,279),anchor:new google.maps.Point(26.5,68),scaledSize:new google.maps.Size(53,372)}},c={scrollwheel:!1,draggable:!1,zoom:8,mapTypeId:google.maps.MapTypeId.HYBRID},d=document.getElementById("map"),e=new google.maps.Map(d,c),f=new google.maps.InfoWindow,g=new google.maps.LatLngBounds,h=0;h<markers.length;h++){var i=new google.maps.Marker({position:new google.maps.LatLng(markers[h][1],markers[h][2]),map:e,icon:b[markers[h][3]],title:markers[h][0],infoContent:markers[h][4]});g.extend(i.position),google.maps.event.addListener(i,"click",function(){f.setContent('<div class="info_content"><h3>'+this.title+"</h3><p>"+this.infoContent+"</p></div>"),f.open(e,this)})}e.fitBounds(g)}}function d(a,b){function c(){var a=new Date,c=e-a;if(0>c)return clearInterval(d),void(document.getElementById(b).innerHTML="EVENT POCEO!");var j=Math.floor(c/i),k=Math.floor(c%i/h),l=Math.floor(c%h/g),m=Math.floor(c%g/f);document.getElementById(b).innerHTML=j+"<span>d√≠as</span>",document.getElementById(b).innerHTML+=k+"<span>horas</span>",document.getElementById(b).innerHTML+=l+"<span>minutos</span>",document.getElementById(b).innerHTML+=m+"<span>segundos</span>"}var d,e=new Date(a),f=1e3,g=60*f,h=60*g,i=24*h;d=setInterval(c,1e3)}function e(b){a.ajax({url:"action.php",data:{get_auto_value:""},type:"POST",dataType:"json"}).done(function(a){"undefined"!=typeof a.data&&m.find(".auto-safe label").text(unescape(a.data)),b&&b()})}var f=a(window).height();a(".hero").height(f-80),a(".hero.mvisible").height(f-136),a(window).resize(function(){var b=a(window).height();a(".hero").height(b-80),a(".hero.mvisible").height(b-136)}),a("#menu-toggle-wrapper").on("click",function(c){b(),a(this).toggleClass("open"),a("body").toggleClass("open"),a("#navigation").slideToggle(200),c.preventDefault()}),a(window).resize(function(){b()}),a("section").each(function(){a(this).waypoint(function(b){if("down"===b){var c=a(this).attr("id");a("#navigation ul li a,#navigation-dotted ul li a").removeClass("active"),a("#navigation ul li a[href*=#"+c+"],#navigation-dotted ul li a[href*=#"+c+"]").addClass("active")}},{offset:"80px"}),a(this).waypoint(function(b){if("up"===b){var c=a(this).attr("id");a("#navigation ul li a,#navigation-dotted ul li a").removeClass("active"),a("#navigation ul li a[href*=#"+c+"],#navigation-dotted ul li a[href*=#"+c+"]").addClass("active")}},{offset:function(){return-a(this).height()-80}})}),a("#navigation a[href*=#],#navigation-dotted a[href*=#]").click(function(b){var c=a(this);if(c.parents("#navigation-dotted").length)var d=0;else var d=-56;a.scrollTo(c.attr("href"),650,{easing:"swing",offset:d,axis:"y"}),b.preventDefault(),a(window).width()<1025&&(a("#menu-toggle-wrapper").toggleClass("open"),a("#navigation").slideToggle(200))}),a("a.scrollTo").click(function(b){var c=a(this).attr("href");b.preventDefault(),a.scrollTo(a(c),1250,{offset:-56,axis:"y"})}),a("#home-content").waypoint(function(b){"down"===b?(a("#main-menu").removeClass("gore"),a("#main-menu").addClass("dole")):"up"===b&&(a("#main-menu").removeClass("dole"),a("#main-menu").addClass("gore"))},{offset:"1px"}),device.tablet()||device.mobile()||(a(".player").length&&a(".player").mb_YTPlayer(),a("#main-menu ul > li").hover(function(){a(this).children("ul").fadeIn(300)},function(){a(this).children("ul").fadeOut(300)}),a(".hero,#background-image,.parallax").addClass("not-mobile"),a('section[data-type="parallax"]').each(function(){a(this).parallax("50%",.5)}),a('section[data-type="parallax"]').each(function(b,c){a(this).addClass("fixed")})),a(".hero-slideshow").each(function(){var b=a(this),c=b.find("img");c.each(function(c){var d={"background-image":'url("'+a(this).attr("src")+'")'};c>0&&(d.display="none"),b.append(a("<div />",{"class":"slide"}).css(d))}),c.length<=1||setInterval(function(){b.find(".slide:first").fadeOut("slow").next(".slide").fadeIn("slow").end().appendTo(b)},5e3)}),a(document).on("click",".successmsg,.errormsg,.notice,.general",function(){var b=a(this);b.fadeOut()}),a("#gallery-wrapper").magnificPopup({delegate:".block:not(.isotope-hidden) a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",closeOnBgClick:!1,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},zoom:{enabled:!0,duration:300,opener:function(a){return a.parent().find("img")}},image:{cursor:null,markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div><div class="small-gallery-wrapper"><div class="small-gallery"></div></div>',tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){return a.el.find(".portfolio-title").text()}},setActive:function(a,b){b!==!1&&(a.find("img").removeClass("active"),a.find("img:eq("+b+")").addClass("active"));var c=a.find("img.active").position().left,d=a.parent().width()/2,e=a.find("img.active").width()/2;a.css("left",-(c-d+e))},callbacks:{open:function(){var b=this.contentContainer.find(".small-gallery"),c=this;a.each(this.st.items,function(d){var e=a(this).parent().find("img");b.append(a("<img />",{src:e.attr("src")}).on("click",function(){c.goTo(d)}))}),this.content.find("img.mfp-img").load(function(){c.st.setActive(b,c.currItem.index)})},change:function(){var a=this.content.find("img.mfp-img"),b=this,c=this.contentContainer.find(".small-gallery");a.css("max-height",.7*parseFloat(a.css("max-height"))),c.find("img").length&&a.load(function(){b.st.setActive(c,b.currItem.index)})},resize:function(){var a=this.content.parent().find("img.mfp-img"),b=this.contentContainer.find(".small-gallery");a.css("max-height",.7*parseFloat(a.css("max-height"))),b.find("img").length&&this.st.setActive(this.contentContainer.find(".small-gallery"),!1)}}});var g=a("#gallery-wrapper");g.isotope({itemSelector:".block",layoutMode:"sloppyMasonry",filter:"*",animationOptions:{duration:750,easing:"linear",queue:!1}}),a("#gallery-filter a").click(function(){a("#gallery-filter li.active").removeClass("active"),a(this).parent().addClass("active");var b=a(this).attr("data-filter");return g.isotope({filter:b,animationOptions:{duration:750,easing:"linear",queue:!1}}),!1}),google.maps.event.addDomListener(window,"load",c),a(".tabs").each(function(){var b=a(this).find("li"),c=a(this).next(".tab-content-wrap").find(".tab-content");c.hide(),b.first().addClass("active").show(),c.first().show()}),a(".tabs").on("click","li",function(b){var c=a(this),d=c.parent(),e=c.parent(),f=e.next(".tab-content-wrap");d.children().removeClass("active"),c.addClass("active"),f.find(".tab-content").hide();var g=a(c.find("a").attr("href"));f.find(g).fadeIn(),b.preventDefault()}),a(".accordion").on("click",".title",function(b){b.preventDefault();var c=a(this);c.closest(".accordion").hasClass("toggle")?c.hasClass("active")&&(c.next().slideUp("normal"),c.removeClass("active")):(c.closest(".accordion").find(".active").next().slideUp("normal"),c.closest(".accordion").find(".title").removeClass("active")),c.next().is(":hidden")===!0&&(c.next().slideDown("normal"),c.addClass("active"))}),a(".accordion .contents").hide(),a(".accordion .active").next().slideDown("normal"),a(".tweets").each(function(){var b=a(this);a.getJSON("twitter/get_tweets.php?get="+b.attr("id"),function(c){if(c){var d="";a.each(c,function(){var a='<div class="tweet">';a+='<span class="one-tweet">'+this.text+"</span>",a+='<span class="time">'+this.time_ago+" ago</span>",a+="</div>",d+=a}),b.prepend(d)}}).always(function(){})});var h="bodamauyjesy",i="630b5c9d2cab44e08fb9d014cf00b2b6",j=a("#instagram-section"),k=!1,l=function(){a.ajax({url:"https://api.instagram.com/v1/tags/"+h+"/media/recent",data:a.extend({},{client_id:i,count:10},k?{max_tag_id:k}:{}),type:"GET",dataType:"jsonp"}).done(function(b){var c=[];a.each(b.data,function(){if("image"==this.type){if(null!=this.caption){if(null!=this.caption.text)var b=this.caption.text}else var b="";c.push(a("<a href='"+this.link+"' target='_blank'></a>").append(a("<img>",{src:this.images.thumbnail.url,title:b})))}}),"undefined"!=typeof b.pagination.next_max_tag_id?k=b.pagination.next_max_tag_id:j.find(".load-more").fadeOut(),j.find(".instagram-images").append(c)})};j.on("click",".load-more a",function(a){a.preventDefault(),l()}),l(),new WOW({boxClass:"wow",offset:250,mobile:!1}),a(".share").socShare({facebook:".soc-fb",twitter:".soc-tw",google_plus:".soc-gplus",pinterest:".soc-pin"}),a("#countdown").length&&d("08/23/2016 9:00 AM","countdown"),function(a){function b(a,b){this.$form=a,this.indexes={},this.options=c;for(var d in b)this.$form.find("#"+d).length&&"function"==typeof b[d]?this.indexes[d]=b[d]:this.options[d]=b[d];this.init()}var c={_error_class:"error",_onValidateFail:function(){}};b.prototype={init:function(){var a=this;a.$form.on("submit",function(b){return a.process(),a.hasErrors()?(a.options._onValidateFail(),b.stopImmediatePropagation(),!1):!0})},notEmpty:function(a){return""!=a},isEmail:function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},isUrl:function(a){var b=new RegExp("(^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|(www\\.)?))[\\w-]+(\\.[\\w-]+)+([\\w-.,@?^=%&:/~+#-]*[\\w@?^=%&;/~+#-])?","gim");return b.test(a)},elClass:"",setClass:function(a){this.elClass=a},process:function(){this._errors={};for(var b in this.indexes){if(this.$el=this.$form.find("#"+b),this.$el.length){var c=a.proxy(this.indexes[b],this,a.trim(this.$el.val()))();this.elClass?(this.elClass.toggleClass(this.options._error_class,!c),this.elClass=""):this.$el.toggleClass(this.options._error_class,!c),c||(this._errors[b]=c)}this.$el=null}},_errors:{},hasErrors:function(){return!a.isEmptyObject(this._errors)}},a.fn.isValid=function(c){return this.each(function(){var d=a(this);a.data(d,"is_valid")||a.data(d,"is_valid",new b(d,c))})}}(jQuery);var m=a(".actionform");m.on("click",".auto-refresh",function(b){b.preventDefault();var c=a(this);c.addClass("fa-spin"),e(function(){c.removeClass("fa-spin")})}),e(),m.isValid({name:function(a){return this.setClass(this.$el.parent()),this.notEmpty(a)},email:function(a){return this.setClass(this.$el.parent()),this.isEmail(a)},subject:function(a){return this.setClass(this.$el.parent()),this.notEmpty(a)},autovalue:function(a){return this.setClass(this.$el.parent()),this.notEmpty(a)}}).submit(function(b){b.preventDefault();var c=a(this);c.find(".notification").attr("class","notification"),c.find(".notification").text(""),a.ajax({url:c.attr("action"),type:c.attr("method"),dataType:"json",data:a(this).serialize()}).done(function(a){c.find(".loading").hide(),"undefined"!=typeof a.type&&"undefined"!=typeof a.message&&(c.find(".notification").addClass(a.type+"msg").text(a.message),"success"==a.type&&(c.find('input[type="text"], input[type="email"], textarea').val(""),e()))})})})}(jQuery),angular.module("bodamauyjesy",["firebase"]).controller("rsvpController",["$scope","$firebaseObject","$firebaseArray","$firebaseAuth","$timeout",function(a,b,c,d,e){var f=this;f.showConfirmarCorreo=!0,f.txtEmail="",f.txtPass="",f.nombre="",f.invitados=[],f.confirmadoLabel=[],f.$firebaseArray=c,f.mostrarConfirmarInvitacion=function(){f.showConfirmarCorreo=!1;var a=new Firebase("https://mauyjesy.firebaseio.com/Invitados/"),c=new b(a);c.$loaded().then(function(a){console.log(c.$value)})},f.login=function(){var a=new Firebase("https://mauyjesy.firebaseio.com/");auth=d(a),auth.$authWithPassword({email:f.txtEmail,password:f.txtPass}).then(function(a){f.showConfirmarCorreo=!1,getUserInfo(a.uid)})["catch"](function(a){console.error("Authentication failed:",a)})},getUserInfo=function(a){var c=new Firebase("https://mauyjesy.firebaseio.com/"),d=b(c.child("invitados").child(a));d.$loaded().then(function(){f.nombre=d.nombre;var a=b(c.child("invitados").orderByChild("grupoId").equalTo(d.grupoId));a.$loaded().then(function(){f.invitados=a})})},f.actualizarStatus=function(a,c,d){f.confirmadoLabel[d]=!1;var g=new Firebase("https://mauyjesy.firebaseio.com/invitados"),h=b(g.child(a));h.$loaded().then(function(){h.status=c,h.$save().then(function(a){a.key()===h.$id,f.confirmadoLabel[d]=!0,e(function(){f.confirmadoLabel[d]=!1},2e3)},function(a){console.log("Error:",a)})})}}]);